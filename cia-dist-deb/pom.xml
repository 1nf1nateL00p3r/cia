<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
  <modelVersion>4.0.0</modelVersion>
  <artifactId>cia-dist-deb</artifactId>
  <packaging>deb</packaging>
  <dependencies>
    <dependency>
      <groupId>org.eclipse.jetty</groupId>
      <artifactId>jetty-distribution</artifactId>
      <version>${cia.project.versions.jetty}</version>
      <type>zip</type>
    </dependency>
    <dependency>
      <groupId>com.hack23.cia</groupId>
      <artifactId>citizen-intelligence-agency</artifactId>
      <version>${project.version}</version>
      <type>war</type>
    </dependency>
  </dependencies>
  <parent>
    <groupId>com.hack23.cia</groupId>
    <artifactId>parent-web-pom</artifactId>
    <version>2011.07.23-SNAPSHOT</version>
    <relativePath>../parent-web-pom/pom.xml</relativePath>
  </parent>
  <build>
    <plugins>
      <plugin>
        <groupId>org.codehaus.mojo</groupId>
        <artifactId>unix-maven-plugin</artifactId>
        <version>1.0-alpha-5</version>
        <extensions>true</extensions>
        <configuration>
          <contact>cia</contact>
          <id>cia-dist-deb</id>
          <contactEmail>cia@hack23.com</contactEmail>
          <deb>
            <section>devel</section>
            <!-- <depends>zip</depends> -->
            <preDepends>openjdk-8-jdk</preDepends>
            <!-- <priority></priority> <provides></provides> <recommends></recommends>
							<replaces></replaces> <suggests></suggests> -->
          </deb>
          <packages>
            <package>
              <id>cia-dist-deb</id>
            </package>
          </packages>
          <defaults>
            <fileAttributes>
              <user>cia</user>
              <group>cia</group>
              <mode>0755</mode>
            </fileAttributes>
            <directoryAttributes>
              <user>cia</user>
              <group>cia</group>
              <mode>0755</mode>
            </directoryAttributes>
          </defaults>
          <assembly>
            <extract-artifact>
              <artifact>org.eclipse.jetty:jetty-distribution:zip</artifact>
              <to>/opt/cia</to>
              <pattern>jetty-distribution-${cia.project.versions.jetty}</pattern>
              <replacement>.</replacement>
            </extract-artifact>
            <extract-artifact>
              <artifact>com.hack23.cia:citizen-intelligence-agency:war</artifact>
              <to>/opt/cia/webapps/citizen-intelligence-agency.war</to>
            </extract-artifact>
            <setAttributes>
              <basedir>/opt/cia</basedir>
              <fileAttributes>
                <user>cia</user>
                <group>cia</group>
                <mode>0755</mode>
              </fileAttributes>
            </setAttributes>
          </assembly>
        </configuration>
      </plugin>
    </plugins>
  </build>
  <name>cia-dist-deb</name>
  <scm>
    <connection>scm:git:git://github.com/Hack23/cia.git</connection>
    <developerConnection>scm:git:git://github.com/Hack23/cia.git</developerConnection>
    <url>https://github.com/Hack23/cia/tree/master/cia-dist-deb</url>
  </scm>
</project>

